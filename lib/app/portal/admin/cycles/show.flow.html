<div ng-show="!source" class="panel panel-default">
	<div class="panel-heading">
		<span class="panel-title">Flow</span>
	</div>
	<div class="panel-body">
		<div class="waterfall-wrapper"><div class="waterfall-scroller">
			<div waterfall="waterfallOptions" ng-model="flow"></div>
		</div></div>

		<hr>
		<!-- <button style="margin-top: -14px;" class="btn btn-xs" ng-show="replace" ng-class="{'btn-default': true, 'active': edit}" ng-click="toggleEdit()"><i class="glyphicon glyphicon-cog"></i></button> -->
		<div>
			<form class="form-horizontal" role="form" ng-submit="updateStage()">
				<div class="form-group">
					<label class="col-sm-2 control-label">Title</label>
					<div class="col-sm-10">
						<p ng-show="!edit" class="form-control-static">{{cycle.flow[stage].title}}</p>
						<input ng-show="edit" type="text" class="form-control" id="user-name" placeholder="Stage Title" ng-model="stageEdit.title">
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-2 control-label">Description</label>
					<div class="col-sm-10">
						<p ng-show="!edit" class="form-control-static">{{cycle.flow[stage].description}}</p>
						<textarea ng-show="edit" type="text" class="form-control" id="user-name" placeholder="Stage Title" ng-model="stageEdit.description"></textarea>
					</div>
				</div>
				<input ng-show="edit" type="submit" class="btn btn-sm btn-primary" value="Submit">
			</form>
		</div>

		<style type="text/css">
			svg.waterfall div {
				line-height: 26px;
				cursor: pointer;
			}
		</style>
	</div>
</div>

<div ui-view ng-hide="edit"></div>