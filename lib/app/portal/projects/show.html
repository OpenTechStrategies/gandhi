<ol class="breadcrumb">
	<li><a ui-sref="portal.projects.list">Projects</a></li>
	<li class="active">{{project.title}}</li>
</ol>

<div class="panel panel-default">
	<div class="panel-heading">
		<div class="panel-title"><b>{{project.title}}</b>
			<!-- HACK for vision grants -->
			<span ng-if="project.flow.full_proposal.data.investigators[0].name" style="opacity: .5;">(<span ng-repeat="(i, investogator) in project.flow.full_proposal.data.investigators"><span ng-if="i >0">, </span>{{investogator.name}}</span>)</span>

			<!-- HACK for seed grants -->
			<span ng-if="project.flow.application.data.investigators[0].name" style="opacity: .5;">(<span ng-repeat="(i, investogator) in project.flow.application.data.investigators"><span ng-if="i >0">, </span>{{investogator.name}}</span>)</span>

			<span style="opacity: .5;" class="pull-right">{{cycle.title}}</span>
		</div>
	</div>
	<div class="panel-body">
		<div ng-if="cycle.config.layout === 'waterfall'" class="waterfall-wrapper"><div class="waterfall-scroller">
			<div waterfall="waterfallOptions" ng-model="index"></div>
		</div></div>
		<ul ng-if="cycle.config.layout === 'pill'" class="nav nav-pills">
			<li ng-class="{active: stage === node.id}" ng-repeat="node in ordered" ng-show="node.visible"><a ui-sref="portal.projects.show.flow({stage: node.id})" ng-bind-html="node.html"></a></li>
		</ul>
	</div>
</div>

<div ui-view>
	<div gandhi-component="{cycle: cycle, project: project, stage: cycle.defaults.flow, role: role, mode: 'default'}"></div>
</div>

<style>svg.waterfall div { cursor: pointer; }</style>
